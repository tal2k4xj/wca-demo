<ShowPlanXML xmlns="http://schemas.microsoft.com/sqlserver/2004/07/showplan" Version="1.564" Build="16.0.4185.3">
  <BatchSequence>
    <Batch>
      <Statements>
        <StmtSimple StatementText="SELECT city.id as id,city.name + &apos;, &apos; + country_division.name + &apos;, &apos;  + country.name AS display_name,&#xa;&#x9;ranking,&#xa;&#x9;population,&#xa;&#x9;density&#xa;FROM city&#xa;&#x9;INNER JOIN country ON city.iso3 = country.iso3&#xa;&#x9;INNER JOIN country_division ON city.division_id = country_division.id&#xa;WHERE city.id = 1840020877&#xa;ORDER BY display_name ASC, ranking ASC, population DESC, density DESC" StatementId="1" StatementCompId="1" StatementType="SELECT" RetrievedFromCache="false" StatementSubTreeCost="0.0131451" StatementEstRows="1" SecurityPolicyApplied="false" StatementOptmLevel="FULL" QueryHash="0xDA1871CF1B93610F" QueryPlanHash="0x4767C3C05D55E37B" StatementOptmEarlyAbortReason="GoodEnoughPlanFound" CardinalityEstimationModelVersion="160">
          <StatementSetOptions QUOTED_IDENTIFIER="true" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false"></StatementSetOptions>
          <QueryPlan CachedPlanSize="40" CompileTime="4" CompileCPU="4" CompileMemory="704">
            <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" GrantedMemory="0" MaxUsedMemory="0"></MemoryGrantInfo>
            <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="329760" EstimatedPagesCached="329760" EstimatedAvailableDegreeOfParallelism="8" MaxCompileMemory="34459600"></OptimizerHardwareDependentProperties>
            <OptimizerStatsUsage>
              <StatisticsInfo LastUpdate="2025-04-09T21:43:22.25" ModificationCount="0" SamplingPercent="100" Statistics="[PK__country___3213E83F85D46439]" Table="[country_division]" Schema="[dbo]" Database="[location]"></StatisticsInfo>
              <StatisticsInfo LastUpdate="2025-04-09T22:05:21.29" ModificationCount="0" SamplingPercent="5.96546" Statistics="[_WA_Sys_0000000C_3C69FB99]" Table="[city]" Schema="[dbo]" Database="[location]"></StatisticsInfo>
              <StatisticsInfo LastUpdate="2025-04-09T22:05:21.41" ModificationCount="0" SamplingPercent="100" Statistics="[UQ__country__99F94A8531B5E781]" Table="[country]" Schema="[dbo]" Database="[location]"></StatisticsInfo>
              <StatisticsInfo LastUpdate="2025-04-09T22:05:21.21" ModificationCount="0" SamplingPercent="6.00127" Statistics="[PK__city__3213E83FBA587435]" Table="[city]" Schema="[dbo]" Database="[location]"></StatisticsInfo>
              <StatisticsInfo LastUpdate="2025-04-09T22:05:21.36" ModificationCount="0" SamplingPercent="5.96546" Statistics="[ix_city_iso3]" Table="[city]" Schema="[dbo]" Database="[location]"></StatisticsInfo>
            </OptimizerStatsUsage>
            <RelOp NodeId="0" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-07" AvgRowSize="273" EstimatedTotalSubtreeCost="0.0131451" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
              <OutputList>
                <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="id"></ColumnReference>
                <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="population"></ColumnReference>
                <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="ranking"></ColumnReference>
                <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="density"></ColumnReference>
                <ColumnReference Column="Expr1006"></ColumnReference>
              </OutputList>
              <ComputeScalar>
                <DefinedValues>
                  <DefinedValue>
                    <ColumnReference Column="Expr1006"></ColumnReference>
                    <ScalarOperator ScalarString="[Expr1007]+[location].[dbo].[country_division].[name]+N&apos;, &apos;+[location].[dbo].[country].[name]">
                      <Arithmetic Operation="ADD">
                        <ScalarOperator>
                          <Arithmetic Operation="ADD">
                            <ScalarOperator>
                              <Arithmetic Operation="ADD">
                                <ScalarOperator>
                                  <Identifier>
                                    <ColumnReference Column="Expr1007"></ColumnReference>
                                  </Identifier>
                                </ScalarOperator>
                                <ScalarOperator>
                                  <Identifier>
                                    <ColumnReference Database="[location]" Schema="[dbo]" Table="[country_division]" Column="name"></ColumnReference>
                                  </Identifier>
                                </ScalarOperator>
                              </Arithmetic>
                            </ScalarOperator>
                            <ScalarOperator>
                              <Const ConstValue="N&apos;, &apos;"></Const>
                            </ScalarOperator>
                          </Arithmetic>
                        </ScalarOperator>
                        <ScalarOperator>
                          <Identifier>
                            <ColumnReference Database="[location]" Schema="[dbo]" Table="[country]" Column="name"></ColumnReference>
                          </Identifier>
                        </ScalarOperator>
                      </Arithmetic>
                    </ScalarOperator>
                  </DefinedValue>
                </DefinedValues>
                <RelOp NodeId="1" PhysicalOp="Nested Loops" LogicalOp="Inner Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-06" AvgRowSize="275" EstimatedTotalSubtreeCost="0.013145" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                  <OutputList>
                    <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="id"></ColumnReference>
                    <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="population"></ColumnReference>
                    <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="ranking"></ColumnReference>
                    <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="density"></ColumnReference>
                    <ColumnReference Database="[location]" Schema="[dbo]" Table="[country]" Column="name"></ColumnReference>
                    <ColumnReference Database="[location]" Schema="[dbo]" Table="[country_division]" Column="name"></ColumnReference>
                    <ColumnReference Column="Expr1007"></ColumnReference>
                  </OutputList>
                  <NestedLoops Optimized="0">
                    <OuterReferences>
                      <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="division_id"></ColumnReference>
                    </OuterReferences>
                    <RelOp NodeId="2" PhysicalOp="Nested Loops" LogicalOp="Inner Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-06" AvgRowSize="215" EstimatedTotalSubtreeCost="0.00985776" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                      <OutputList>
                        <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="id"></ColumnReference>
                        <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="population"></ColumnReference>
                        <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="ranking"></ColumnReference>
                        <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="division_id"></ColumnReference>
                        <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="density"></ColumnReference>
                        <ColumnReference Database="[location]" Schema="[dbo]" Table="[country]" Column="name"></ColumnReference>
                        <ColumnReference Column="Expr1007"></ColumnReference>
                      </OutputList>
                      <NestedLoops Optimized="0">
                        <OuterReferences>
                          <ColumnReference Database="[location]" Schema="[dbo]" Table="[country]" Column="id"></ColumnReference>
                        </OuterReferences>
                        <RelOp NodeId="3" PhysicalOp="Nested Loops" LogicalOp="Inner Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-06" AvgRowSize="157" EstimatedTotalSubtreeCost="0.00657048" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                          <OutputList>
                            <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="id"></ColumnReference>
                            <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="population"></ColumnReference>
                            <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="ranking"></ColumnReference>
                            <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="division_id"></ColumnReference>
                            <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="density"></ColumnReference>
                            <ColumnReference Database="[location]" Schema="[dbo]" Table="[country]" Column="id"></ColumnReference>
                            <ColumnReference Column="Expr1007"></ColumnReference>
                          </OutputList>
                          <NestedLoops Optimized="0">
                            <OuterReferences>
                              <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="iso3"></ColumnReference>
                            </OuterReferences>
                            <RelOp NodeId="4" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-07" AvgRowSize="161" EstimatedTotalSubtreeCost="0.0032832" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                              <OutputList>
                                <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="id"></ColumnReference>
                                <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="iso3"></ColumnReference>
                                <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="population"></ColumnReference>
                                <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="ranking"></ColumnReference>
                                <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="division_id"></ColumnReference>
                                <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="density"></ColumnReference>
                                <ColumnReference Column="Expr1007"></ColumnReference>
                              </OutputList>
                              <ComputeScalar>
                                <DefinedValues>
                                  <DefinedValue>
                                    <ColumnReference Column="Expr1007"></ColumnReference>
                                    <ScalarOperator ScalarString="[location].[dbo].[city].[name]+N&apos;, &apos;">
                                      <Arithmetic Operation="ADD">
                                        <ScalarOperator>
                                          <Identifier>
                                            <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="name"></ColumnReference>
                                          </Identifier>
                                        </ScalarOperator>
                                        <ScalarOperator>
                                          <Const ConstValue="N&apos;, &apos;"></Const>
                                        </ScalarOperator>
                                      </Arithmetic>
                                    </ScalarOperator>
                                  </DefinedValue>
                                </DefinedValues>
                                <RelOp NodeId="5" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimatedRowsRead="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="159" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="1.52741e+06" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                  <OutputList>
                                    <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="id"></ColumnReference>
                                    <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="name"></ColumnReference>
                                    <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="iso3"></ColumnReference>
                                    <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="population"></ColumnReference>
                                    <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="ranking"></ColumnReference>
                                    <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="division_id"></ColumnReference>
                                    <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="density"></ColumnReference>
                                  </OutputList>
                                  <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                    <DefinedValues>
                                      <DefinedValue>
                                        <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="id"></ColumnReference>
                                      </DefinedValue>
                                      <DefinedValue>
                                        <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="name"></ColumnReference>
                                      </DefinedValue>
                                      <DefinedValue>
                                        <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="iso3"></ColumnReference>
                                      </DefinedValue>
                                      <DefinedValue>
                                        <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="population"></ColumnReference>
                                      </DefinedValue>
                                      <DefinedValue>
                                        <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="ranking"></ColumnReference>
                                      </DefinedValue>
                                      <DefinedValue>
                                        <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="division_id"></ColumnReference>
                                      </DefinedValue>
                                      <DefinedValue>
                                        <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="density"></ColumnReference>
                                      </DefinedValue>
                                    </DefinedValues>
                                    <Object Database="[location]" Schema="[dbo]" Table="[city]" Index="[PK__city__3213E83FBA587435]" IndexKind="Clustered" Storage="RowStore"></Object>
                                    <SeekPredicates>
                                      <SeekPredicateNew>
                                        <SeekKeys>
                                          <Prefix ScanType="EQ">
                                            <RangeColumns>
                                              <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="id"></ColumnReference>
                                            </RangeColumns>
                                            <RangeExpressions>
                                              <ScalarOperator ScalarString="(1840020877)">
                                                <Const ConstValue="(1840020877)"></Const>
                                              </ScalarOperator>
                                            </RangeExpressions>
                                          </Prefix>
                                        </SeekKeys>
                                      </SeekPredicateNew>
                                    </SeekPredicates>
                                  </IndexScan>
                                </RelOp>
                              </ComputeScalar>
                            </RelOp>
                            <RelOp NodeId="6" PhysicalOp="Index Seek" LogicalOp="Index Seek" EstimateRows="1" EstimatedRowsRead="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="11" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="254" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                              <OutputList>
                                <ColumnReference Database="[location]" Schema="[dbo]" Table="[country]" Column="id"></ColumnReference>
                              </OutputList>
                              <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                <DefinedValues>
                                  <DefinedValue>
                                    <ColumnReference Database="[location]" Schema="[dbo]" Table="[country]" Column="id"></ColumnReference>
                                  </DefinedValue>
                                </DefinedValues>
                                <Object Database="[location]" Schema="[dbo]" Table="[country]" Index="[UQ__country__99F94A8531B5E781]" IndexKind="NonClustered" Storage="RowStore"></Object>
                                <SeekPredicates>
                                  <SeekPredicateNew>
                                    <SeekKeys>
                                      <Prefix ScanType="EQ">
                                        <RangeColumns>
                                          <ColumnReference Database="[location]" Schema="[dbo]" Table="[country]" Column="iso3"></ColumnReference>
                                        </RangeColumns>
                                        <RangeExpressions>
                                          <ScalarOperator ScalarString="[location].[dbo].[city].[iso3]">
                                            <Identifier>
                                              <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="iso3"></ColumnReference>
                                            </Identifier>
                                          </ScalarOperator>
                                        </RangeExpressions>
                                      </Prefix>
                                    </SeekKeys>
                                  </SeekPredicateNew>
                                </SeekPredicates>
                              </IndexScan>
                            </RelOp>
                          </NestedLoops>
                        </RelOp>
                        <RelOp NodeId="8" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="71" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="254" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                          <OutputList>
                            <ColumnReference Database="[location]" Schema="[dbo]" Table="[country]" Column="name"></ColumnReference>
                          </OutputList>
                          <IndexScan Lookup="1" Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                            <DefinedValues>
                              <DefinedValue>
                                <ColumnReference Database="[location]" Schema="[dbo]" Table="[country]" Column="name"></ColumnReference>
                              </DefinedValue>
                            </DefinedValues>
                            <Object Database="[location]" Schema="[dbo]" Table="[country]" Index="[PK__country__3213E83F0817B195]" TableReferenceId="-1" IndexKind="Clustered" Storage="RowStore"></Object>
                            <SeekPredicates>
                              <SeekPredicateNew>
                                <SeekKeys>
                                  <Prefix ScanType="EQ">
                                    <RangeColumns>
                                      <ColumnReference Database="[location]" Schema="[dbo]" Table="[country]" Column="id"></ColumnReference>
                                    </RangeColumns>
                                    <RangeExpressions>
                                      <ScalarOperator ScalarString="[location].[dbo].[country].[id]">
                                        <Identifier>
                                          <ColumnReference Database="[location]" Schema="[dbo]" Table="[country]" Column="id"></ColumnReference>
                                        </Identifier>
                                      </ScalarOperator>
                                    </RangeExpressions>
                                  </Prefix>
                                </SeekKeys>
                              </SeekPredicateNew>
                            </SeekPredicates>
                          </IndexScan>
                        </RelOp>
                      </NestedLoops>
                    </RelOp>
                    <RelOp NodeId="9" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimatedRowsRead="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="81" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="4271" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                      <OutputList>
                        <ColumnReference Database="[location]" Schema="[dbo]" Table="[country_division]" Column="name"></ColumnReference>
                      </OutputList>
                      <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                        <DefinedValues>
                          <DefinedValue>
                            <ColumnReference Database="[location]" Schema="[dbo]" Table="[country_division]" Column="name"></ColumnReference>
                          </DefinedValue>
                        </DefinedValues>
                        <Object Database="[location]" Schema="[dbo]" Table="[country_division]" Index="[PK__country___3213E83F85D46439]" IndexKind="Clustered" Storage="RowStore"></Object>
                        <SeekPredicates>
                          <SeekPredicateNew>
                            <SeekKeys>
                              <Prefix ScanType="EQ">
                                <RangeColumns>
                                  <ColumnReference Database="[location]" Schema="[dbo]" Table="[country_division]" Column="id"></ColumnReference>
                                </RangeColumns>
                                <RangeExpressions>
                                  <ScalarOperator ScalarString="[location].[dbo].[city].[division_id]">
                                    <Identifier>
                                      <ColumnReference Database="[location]" Schema="[dbo]" Table="[city]" Column="division_id"></ColumnReference>
                                    </Identifier>
                                  </ScalarOperator>
                                </RangeExpressions>
                              </Prefix>
                            </SeekKeys>
                          </SeekPredicateNew>
                        </SeekPredicates>
                      </IndexScan>
                    </RelOp>
                  </NestedLoops>
                </RelOp>
              </ComputeScalar>
            </RelOp>
          </QueryPlan>
        </StmtSimple>
      </Statements>
    </Batch>
  </BatchSequence>
</ShowPlanXML>